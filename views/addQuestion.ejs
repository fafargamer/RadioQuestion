<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>The HTML5 Herald</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

</head>

<style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box
        }

        body {
            background-color: #333
        }

        .container {
            background-color: #555;
            color: #ddd;
            border-radius: 10px;
            padding: 20px;
            font-family: 'Montserrat', sans-serif;
            max-width: 700px
        }

        .container>p {
            font-size: 32px
        }

        .question {
            width: 75%
        }

        .options {
            position: relative;
            padding-left: 40px
        }

        #options label {
            display: block;
            margin-bottom: 15px;
            font-size: 14px;
            cursor: pointer
        }

        h1 {
            color: #ddd;
        }

        .options input {
            opacity: 0
        }

        .checkmark {
            position: absolute;
            top: -1px;
            left: 0;
            height: 25px;
            width: 25px;
            background-color: #555;
            border: 1px solid #ddd;
            border-radius: 50%
        }

        .options input:checked~.checkmark:after {
            display: block
        }

        .options .checkmark:after {
            content: "";
            width: 10px;
            height: 10px;
            display: block;
            background: white;
            position: absolute;
            top: 50%;
            left: 50%;
            border-radius: 50%;
            transform: translate(-50%, -50%) scale(0);
            transition: 300ms ease-in-out 0s
        }

        .options input[type="radio"]:checked~.checkmark {
            background: #21bf73;
            transition: 300ms ease-in-out 0s
        }

        .options input[type="radio"]:checked~.checkmark:after {
            transform: translate(-50%, -50%) scale(1)
        }

        .btn-primary {
            background-color: #555;
            color: #ddd;
            border: 1px solid #ddd
        }

        .btn-primary:hover {
            background-color: #21bf73;
            border: 1px solid #21bf73
        }

        .btn-success {
            padding: 5px 25px;
            background-color: #21bf73
        }

        @media(max-width:576px) {
            .question {
                width: 100%;
                word-spacing: 2px
            }
        }
</style>

<body>

    <!-- <% data.test.forEach(function(kn) { %>

    

    
        <h1><%=kn.question%></h1>

        <ul>
            <% kn.choices.forEach(function(item) { %>
                <label class="radio-inline">
                    <input type="radio" name="optradio" class="optradio" value="1"><%=item%>
                </label>
            <% }); %>
        </ul>

    <% }); %> -->

    <h1 class="text-center">PERTANYAAN</h1>

    <% data.test.forEach(function(kn, i) { %>
        <div class="container mt-sm-5 my-1">
            <div class="question ml-sm-5 pl-sm-5 pt-2">
                <div class="py-2 h5"><b><%=kn.question%></b>


                    <div class="ml-md-3 ml-sm-3 pl-md-5 pt-sm-0 pt-3" id="options" name="Form2" > 
                        <% kn.choices.forEach(function(item) { %>   
                            <label class="options"><%=item.ans%> <input type="radio" name="<%=i%>" value="<%=item.val%>"> 
                                <span class="checkmark"></span> 
                            </label> 
                        <% }); %>    
                    </div>
     
                </div>
            </div>
            <!-- <div class="d-flex align-items-center pt-3">
                <div id="prev"> <button class="btn btn-primary">Previous</button> </div>
                <div class="ml-auto mr-sm-5"> <button class="btn btn-success">Next</button> </div>
            </div> -->
        </div>

    <% }); %>   
    <div class="container mt-sm-5 my-1 text-center">
        <form action="/submitJawaban" method="POST">
            <button type="submit" formmethod="post" class="btn btn-primary" id="submitBtn" name="submitBtn">Submit</button>
        </form>
    </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

  <script type="text/javascript">
    $(document).ready(function() {
        
      $('#submitBtn').on('click', function(){
        obj = {};
        obj.jawaban = [];

            $(':radio:checked').each(function(){
                obj.jawaban.push($(this).val());
                // ans.push($(this).attr('name'));
                // alert($(this).val());                    // Get all radio button values
            });
            
            testData=[1,2,3,4,5,6,7]
            testJSON={"data" : [1,2,3,4,5,7]}
            jsonObj = JSON.stringify(obj)
            let payload = { name : "test", id: 12345};
            // alert(obj)
            // alert(jsonObj)            

                $.ajax({
                    url: '/submitJawaban',
                    ContentType: 'application/json',
                    data: JSON.stringify(payload),
                    dataType: "json",
                    type: 'POST',
                    success: function (data) {
                        alert(data);
                    }
                });

            // $.post('/submitJawaban', { parsedData: obj});

        });

    });
  </script>

</body>
</html>


   
   
   
